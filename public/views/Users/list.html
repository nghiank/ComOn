<section data-ng-controller="UsersController" data-ng-init="find()">
<div data-ng-show="global.user.isAdmin">
	<div class="page-header"><h1>User Listing</h1></div>
	<form class="form-horizontal" role="form">
		<div class="form-group">
			<label for="search" class="col-sm-2 control-label">Search by name: </label>
			<div class="col-sm-5">
			 	<input id="search" class="form-control" ng-model="query.name">
			</div>
			<div class="col-sm-2">
			  <div class="checkbox">
			    <label>
			      <input type="checkbox" ng-model="showUser">show Admin Users
			    </label>
			  </div>
			</div>
			<div class="col-sm-2">
			  <div class="checkbox">
			    <label>
			      <input type="checkbox" ng-model="showMan">show Manufacturers
			    </label>
			  </div>
			</div>
		</div>
	 </form>
			<table class="table table-striped">
			    <thead>
			        <tr>
			          <th>Name</th>
			          <th>Designation</th>
			          <th>Last Login</th>
			          <th>Last Logout</th>
			          <th>Actions</th>
			        </tr>
			    </thead>
			    <tbody>
					<tr data-ng-repeat="user in users | filter:query | filter: custom | orderBy:'name'">
			          <td>{{user.name}}</td>
			          <td>{{(user.isAdmin?'Admin'+(user.isManufacturer?', Manufacturer ':''):(user.isManufacturer?'Manufacturer':'User'))}}</td>
			          <td>{{user.lastLogin | date:'medium'}}</td>
			          <td>{{user.lastLogout | date:'medium'}}</td>
			          <td><button type="button" data="{{user._id}}" data-ng-click='update(user._id)' class="btn btn-info btn-xs">{{user.isManufacturer?'Revoke Permissions':'Promote to Manufacturer'}}</button></td>
			        </tr>
			    </tbody>
			</table>
	<h3 style="text-align: center" data-ng-hide="!users || users.length">No users.<br></h3>
	</div>
</section>